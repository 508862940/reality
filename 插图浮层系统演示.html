<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>ÊèíÂõæÊµÆÂ±ÇÁ≥ªÁªüÊºîÁ§∫ - RealityÊ∏∏Êàè</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, "PingFang SC", "Microsoft YaHei", sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            overflow-x: hidden;
        }

        /* Ê∏∏ÊàèÂÆπÂô® */
        .game-container {
            background: #1a1a2e;
            border-radius: 12px;
            padding: 20px;
            max-width: 430px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            position: relative;
        }

        .title {
            color: #f093fb;
            font-size: 18px;
            margin-bottom: 20px;
            text-align: center;
        }

        /* F1Âå∫Ê®°Êãü */
        .f1-area {
            background: #0f0f23;
            border-radius: 8px;
            padding: 20px;
            color: #e4e4e7;
            height: 400px;
            overflow-y: auto;
            font-size: 14px;
            line-height: 1.8;
        }

        .f1-area::-webkit-scrollbar {
            width: 4px;
        }

        .f1-area::-webkit-scrollbar-track {
            background: transparent;
        }

        .f1-area::-webkit-scrollbar-thumb {
            background: rgba(139, 92, 246, 0.2);
            border-radius: 2px;
        }

        .location-tag {
            color: #8b92f6;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .story-text {
            margin-bottom: 20px;
        }

        .story-text p {
            margin-bottom: 12px;
        }

        /* ÂÜÖÂµåÊèíÂõæÊèêÁ§∫ */
        .inline-illustration-hint {
            display: inline-block;
            padding: 6px 12px;
            background: linear-gradient(135deg, rgba(240, 147, 251, 0.1), rgba(139, 92, 246, 0.1));
            border: 1px solid rgba(240, 147, 251, 0.3);
            border-radius: 16px;
            color: #f093fb;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px 0;
        }

        .inline-illustration-hint:hover {
            background: linear-gradient(135deg, rgba(240, 147, 251, 0.2), rgba(139, 92, 246, 0.2));
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(240, 147, 251, 0.2);
        }

        .inline-illustration-hint::before {
            content: "üñºÔ∏è ";
            margin-right: 4px;
        }

        /* ÈÄâÈ°π */
        .choice-item {
            display: block;
            padding: 12px 16px;
            margin: 10px 0;
            background: rgba(139, 92, 246, 0.1);
            border: 1px solid rgba(139, 92, 246, 0.2);
            border-radius: 8px;
            color: #a5b4fc;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }

        .choice-item:hover {
            background: rgba(139, 92, 246, 0.2);
            transform: translateX(5px);
            border-color: rgba(139, 92, 246, 0.4);
        }

        /* ÊúâÊèíÂõæÁöÑÈÄâÈ°πÊ†áËÆ∞ */
        .choice-item.has-illustration::after {
            content: "üñºÔ∏è";
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 12px;
            opacity: 0.6;
        }

        /* F2Âå∫Ê®°Êãü */
        .f2-area {
            margin-top: 15px;
            padding: 12px;
            background: rgba(30, 30, 45, 0.95);
            border-radius: 8px;
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .control-btn {
            padding: 8px 16px;
            border-radius: 20px;
            background: rgba(139, 92, 246, 0.2);
            border: 1px solid rgba(139, 92, 246, 0.3);
            color: #e4e4e7;
            cursor: pointer;
            font-size: 13px;
            transition: all 0.3s;
            position: relative;
        }

        .control-btn:hover:not(:disabled) {
            background: rgba(139, 92, 246, 0.3);
            transform: translateY(-2px);
        }

        .control-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .zoom-btn {
            background: rgba(240, 147, 251, 0.2);
            border-color: rgba(240, 147, 251, 0.3);
        }

        .zoom-btn.has-content::after {
            content: "";
            position: absolute;
            top: 4px;
            right: 4px;
            width: 8px;
            height: 8px;
            background: #f093fb;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.2); opacity: 0.7; }
        }

        /* ===== Ê†∏ÂøÉÔºöÊµÆÂ±ÇÊ®°ÊÄÅÊ°Ü ===== */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0);
            backdrop-filter: blur(0px);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            opacity: 0;
            pointer-events: none;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .modal-overlay.active {
            opacity: 1;
            pointer-events: auto;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(10px);
        }

        /* Ê®°ÊÄÅÊ°ÜÂÜÖÂÆπ */
        .modal-content {
            background: linear-gradient(135deg, #1e1e2e, #2a2a3e);
            border-radius: 20px;
            max-width: 800px;
            width: 100%;
            max-height: 85vh;
            display: flex;
            flex-direction: column;
            box-shadow: 0 25px 100px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transform: scale(0.8) translateY(20px);
            opacity: 0;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: hidden;
        }

        .modal-overlay.active .modal-content {
            transform: scale(1) translateY(0);
            opacity: 1;
        }

        /* Ê®°ÊÄÅÊ°ÜÂ§¥ÈÉ® */
        .modal-header {
            padding: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: rgba(0, 0, 0, 0.2);
        }

        .modal-title {
            color: #f093fb;
            font-size: 16px;
            font-weight: 500;
        }

        .modal-close {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: #e4e4e7;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            font-size: 18px;
        }

        .modal-close:hover {
            background: rgba(255, 71, 87, 0.2);
            transform: rotate(90deg);
        }

        /* Ê®°ÊÄÅÊ°Ü‰∏ª‰Ωì */
        .modal-body {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 300px;
        }

        .modal-body::-webkit-scrollbar {
            width: 8px;
        }

        .modal-body::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
        }

        .modal-body::-webkit-scrollbar-thumb {
            background: rgba(139, 92, 246, 0.3);
            border-radius: 4px;
        }

        /* ÊèíÂõæÂÆπÂô® */
        .illustration-container {
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        .illustration-image {
            width: 100%;
            max-width: 600px;
            aspect-ratio: 16 / 9;
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(240, 147, 251, 0.1));
            border: 2px solid rgba(139, 92, 246, 0.2);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 120px;
            position: relative;
            overflow: hidden;
            cursor: zoom-in;
            transition: transform 0.3s ease;
        }

        .illustration-image:hover {
            transform: scale(1.02);
        }

        .illustration-image.zoomed {
            cursor: zoom-out;
            transform: scale(1.5);
        }

        /* ÊèíÂõæÊèèËø∞ */
        .illustration-info {
            text-align: center;
            max-width: 600px;
        }

        .illustration-caption {
            color: #e4e4e7;
            font-size: 18px;
            margin-bottom: 10px;
            font-weight: 500;
        }

        .illustration-desc {
            color: #94a3b8;
            font-size: 14px;
            line-height: 1.6;
        }

        /* Ê®°ÊÄÅÊ°ÜÂ∫ïÈÉ® */
        .modal-footer {
            padding: 15px 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            gap: 10px;
            background: rgba(0, 0, 0, 0.2);
        }

        .modal-action {
            flex: 1;
            padding: 10px;
            border-radius: 8px;
            background: rgba(139, 92, 246, 0.2);
            border: 1px solid rgba(139, 92, 246, 0.3);
            color: #e4e4e7;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
            text-align: center;
        }

        .modal-action:hover {
            background: rgba(139, 92, 246, 0.3);
            transform: translateY(-1px);
        }

        .modal-action.primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            border: none;
            color: white;
        }

        /* Â§öÂõæÊåáÁ§∫Âô® */
        .image-indicators {
            display: flex;
            gap: 8px;
            margin-top: 15px;
        }

        .indicator-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            cursor: pointer;
            transition: all 0.3s;
        }

        .indicator-dot.active {
            width: 24px;
            border-radius: 4px;
            background: #f093fb;
        }

        /* Âä†ËΩΩÂä®Áîª */
        .loading {
            display: inline-block;
            width: 40px;
            height: 40px;
            border: 3px solid rgba(139, 92, 246, 0.1);
            border-top-color: #8b92f6;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* PWAËß¶Êë∏‰ºòÂåñ */
        @media (pointer: coarse) {
            .modal-content {
                max-height: 90vh;
            }

            .illustration-image {
                touch-action: pinch-zoom;
            }
        }

        /* ÊèêÁ§∫‰ø°ÊÅØ */
        .tips {
            margin-top: 20px;
            padding: 15px;
            background: rgba(255, 193, 7, 0.1);
            border: 1px solid rgba(255, 193, 7, 0.3);
            border-radius: 8px;
            color: #fbbf24;
            font-size: 13px;
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1 class="title">üé® ÊèíÂõæÊµÆÂ±ÇÁ≥ªÁªüÊºîÁ§∫</h1>

        <!-- F1Âå∫ -->
        <div class="f1-area">
            <div class="location-tag">üìç Â∫üÂºÉÁöÑÂÆûÈ™åÂÆ§</div>
            <div class="story-text">
                <p>ÊòèÊöóÁöÑÂ∫îÊÄ•ÁÅØÂÖâ‰∏ãÔºåÂÆûÈ™åÂÆ§ÊòæÂæóÊ†ºÂ§ñËØ°ÂºÇ„ÄÇ</p>
                <p>Â¢ô‰∏äË¥¥Êª°‰∫ÜÂ§çÊùÇÁöÑÂõæË°®ÂíåÂÖ¨ÂºèÔºåÂÖ∂‰∏≠‰∏ÄÂº†ÁâπÂà´Âºï‰∫∫Ê≥®ÁõÆ...</p>

                <span class="inline-illustration-hint" onclick="showIllustration('diagram')">
                    Êü•ÁúãÂ¢ô‰∏äÁöÑÁ•ûÁßòÂõæË°®
                </span>

                <p>Ê°å‰∏äÊï£ËêΩÁùÄÂêÑÁßçÂÆûÈ™åÂô®ÊùêÔºå‰∏ÄÊú¨ÊâìÂºÄÁöÑÊó•ËÆ∞Êú¨Âê∏Âºï‰∫Ü‰Ω†ÁöÑÊ≥®ÊÑè„ÄÇ</p>
                <p>‰Ω†ËØ•Â¶Ç‰ΩïÈÄâÊã©Ôºü</p>
            </div>

            <div class="choice-item has-illustration" onclick="showIllustration('diary')">
                ‚Üí Êü•ÁúãÊó•ËÆ∞Êú¨
            </div>
            <div class="choice-item has-illustration" onclick="showIllustration('device')">
                ‚Üí Ê£ÄÊü•ÂÆûÈ™åËÆæÂ§á
            </div>
            <div class="choice-item" onclick="selectChoice(this)">
                ‚Üí Á¶ªÂºÄÂÆûÈ™åÂÆ§
            </div>
            <div class="choice-item has-illustration" onclick="showIllustration('photo')">
                ‚Üí ÊãøËµ∑Ê°å‰∏äÁöÑÁÖßÁâá
            </div>
        </div>

        <!-- F2Âå∫ -->
        <div class="f2-area">
            <button class="control-btn" onclick="continueStory()">‚ñ∂Ô∏è ÁªßÁª≠</button>
            <button class="control-btn" onclick="resetScene()">‚Ü©Ô∏è ÈáçÁΩÆ</button>
            <button class="control-btn zoom-btn has-content" onclick="showIllustration('scene')">
                üîç Âú∫ÊôØ
            </button>
        </div>

        <!-- ÊèêÁ§∫ -->
        <div class="tips">
            üí° <strong>ÊºîÁ§∫ËØ¥ÊòéÔºö</strong><br>
            ‚Ä¢ ÁÇπÂáªÊñáÊú¨‰∏≠ÁöÑÊèêÁ§∫ÊàñÂ∏¶üñºÔ∏èÁöÑÈÄâÈ°πÊü•ÁúãÊèíÂõæ<br>
            ‚Ä¢ ÊµÆÂ±ÇÊîØÊåÅÁÇπÂáªÂõæÁâáÊîæÂ§ß„ÄÅESCÂÖ≥Èó≠<br>
            ‚Ä¢ Êú™Êù•ÂèØÊâ©Â±ï‰∏∫ÊâãÊú∫ÁïåÈù¢„ÄÅÊó•ËÆ∞Êú¨„ÄÅÁÉπÈ•™ÁïåÈù¢Á≠â
        </div>
    </div>

    <!-- ÊµÆÂ±ÇÊ®°ÊÄÅÊ°Ü -->
    <div class="modal-overlay" id="modalOverlay" onclick="closeOnBackground(event)">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h3 class="modal-title" id="modalTitle">ÊèíÂõæÊ†áÈ¢ò</h3>
                <button class="modal-close" onclick="closeModal()">‚úï</button>
            </div>

            <div class="modal-body">
                <div class="illustration-container">
                    <div class="illustration-image" id="illustrationImage" onclick="toggleZoom()">
                        <!-- ÊèíÂõæÂÜÖÂÆπ -->
                    </div>

                    <div class="illustration-info">
                        <div class="illustration-caption" id="illustrationCaption">
                            ÊèíÂõæËØ¥Êòé
                        </div>
                        <div class="illustration-desc" id="illustrationDesc">
                            ËØ¶ÁªÜÊèèËø∞
                        </div>
                    </div>

                    <!-- Â§öÂõæÊåáÁ§∫Âô®ÔºàÊú™Êù•Êâ©Â±ïÔºâ -->
                    <div class="image-indicators" id="imageIndicators" style="display: none;">
                        <span class="indicator-dot active"></span>
                        <span class="indicator-dot"></span>
                        <span class="indicator-dot"></span>
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button class="modal-action" onclick="previousImage()" id="prevBtn" style="display: none;">
                    ‚¨ÖÔ∏è ‰∏ä‰∏ÄÂº†
                </button>
                <button class="modal-action primary" onclick="closeModal()">
                    Á°ÆÂÆö
                </button>
                <button class="modal-action" onclick="nextImage()" id="nextBtn" style="display: none;">
                    ‰∏ã‰∏ÄÂº† ‚û°Ô∏è
                </button>
            </div>
        </div>
    </div>

    <script>
        // ÊèíÂõæÊï∞ÊçÆÂ∫ì
        const illustrations = {
            scene: {
                emoji: 'üèöÔ∏è',
                title: 'Â∫üÂºÉÁöÑÂÆûÈ™åÂÆ§',
                caption: '„ÄåÂ∞òÂ∞ÅÂ∑≤‰πÖÁöÑÁßòÂØÜÂü∫Âú∞„Äç',
                desc: 'Ëøô‰∏™ÂÆûÈ™åÂÆ§‰ºº‰πéÂ∑≤ÁªèÂ∫üÂºÉ‰∫ÜÂæà‰πÖÔºå‰ΩÜÂ•áÊÄ™ÁöÑÊòØÔºåÊüê‰∫õËÆæÂ§á‰ºº‰πéËøòÂú®ËøêËΩ¨...'
            },
            diagram: {
                emoji: 'üìä',
                title: 'Á•ûÁßòÁöÑÂÆûÈ™åÂõæË°®',
                caption: '„ÄåProject: Reality„Äç',
                desc: 'ÂõæË°®‰∏äËØ¶ÁªÜËÆ∞ÂΩïÁùÄÊüêÁßç‰∫∫‰ΩìÊîπÈÄ†ËÆ°ÂàíÔºåÂÖ∂‰∏≠"User"Âíå"Zero"ÁöÑ‰ª£Âè∑ÂèçÂ§çÂá∫Áé∞„ÄÇÁ∫¢Ëâ≤ÁöÑÁ∫øÊù°ËøûÊé•ÁùÄÂêÑ‰∏™ËäÇÁÇπÔºåÊúÄ‰∏≠ÂøÉÂÜôÁùÄ"ËÆ∞ÂøÜÊ§çÂÖ•"Âõõ‰∏™Â§ßÂ≠ó„ÄÇ'
            },
            diary: {
                emoji: 'üìî',
                title: 'Á†îÁ©∂ÂëòÁöÑÊó•ËÆ∞',
                caption: '„Äå2024Âπ¥3Êúà15Êó• - ÊúÄÂêéÁöÑËÆ∞ÂΩï„Äç',
                desc: 'Â≠óËøπÊΩ¶ËçâÔºö"ÂÆûÈ™å‰ΩìËßâÈÜí‰∫ÜËá™ÊàëÊÑèËØÜ...Ëøô‰∏çÂú®ËÆ°Âàí‰πãÂÜÖ...BÁªÑÁªáÁöÑ‰∫∫Ë¶ÅÊù•‰∫Ü...ÂøÖÈ°ªÈîÄÊØÅ‰∏ÄÂàáËØÅÊçÆ..."'
            },
            device: {
                emoji: 'üî¨',
                title: 'Â•áÊÄ™ÁöÑÂÆûÈ™åËÆæÂ§á',
                caption: '„ÄåËÆ∞ÂøÜÊâ´Êèè‰ª™ MK-VII„Äç',
                desc: 'ËÆæÂ§áÁöÑÊòæÁ§∫Â±èËøòÂú®ÂæÆÂæÆÂèëÂÖâÔºå‰∏äÈù¢ÊòæÁ§∫ÁùÄ"ÊúÄÂêéÊâ´ÊèèÔºö72Â∞èÊó∂Ââç"„ÄÇÊóÅËæπÁöÑÂüπÂÖªÁöøÈáåÊúâ‰∏Ä‰∫õÂèëÂÖâÁöÑÊ∂≤‰Ωì„ÄÇ'
            },
            photo: {
                emoji: 'üì∑',
                title: 'Ê≥õÈªÑÁöÑÂêàÂΩ±',
                caption: '„ÄåÂÆûÈ™åÂõ¢Èòü - 2023„Äç',
                desc: 'ÁÖßÁâá‰∏äÊúâ‰∫î‰∏™Á©øÁùÄÁôΩÂ§ßË§ÇÁöÑÁ†îÁ©∂ÂëòÔºåÂÖ∂‰∏≠‰∏Ä‰∏™‰∫∫ÁöÑËÑ∏Ë¢´ÂàªÊÑèÊ∂ÇÈªë‰∫Ü„ÄÇËÉåÊôØÊòØËøô‰∏™ÂÆûÈ™åÂÆ§Ôºå‰ΩÜÁúãËµ∑Êù•Ë¶ÅÊï¥Ê¥ÅÂæóÂ§ö„ÄÇ'
            }
        };

        let currentIllustration = null;
        let isZoomed = false;

        // ÊòæÁ§∫ÊèíÂõæ
        function showIllustration(type) {
            const data = illustrations[type];
            if (!data) return;

            currentIllustration = data;

            // Êõ¥Êñ∞Ê®°ÊÄÅÊ°ÜÂÜÖÂÆπ
            document.getElementById('modalTitle').textContent = data.title;
            document.getElementById('illustrationImage').innerHTML = data.emoji;
            document.getElementById('illustrationCaption').textContent = data.caption;
            document.getElementById('illustrationDesc').textContent = data.desc;

            // ÊòæÁ§∫Ê®°ÊÄÅÊ°Ü
            const overlay = document.getElementById('modalOverlay');
            overlay.classList.add('active');

            // ÈáçÁΩÆÁº©Êîæ
            isZoomed = false;
            document.getElementById('illustrationImage').classList.remove('zoomed');
        }

        // ÂÖ≥Èó≠Ê®°ÊÄÅÊ°Ü
        function closeModal() {
            const overlay = document.getElementById('modalOverlay');
            overlay.classList.remove('active');

            // Âª∂ËøüÊ∏ÖÁêÜÂÜÖÂÆπ
            setTimeout(() => {
                currentIllustration = null;
                isZoomed = false;
            }, 400);
        }

        // ÁÇπÂáªËÉåÊôØÂÖ≥Èó≠
        function closeOnBackground(event) {
            if (event.target === event.currentTarget) {
                closeModal();
            }
        }

        // ÂàáÊç¢Áº©Êîæ
        function toggleZoom() {
            const image = document.getElementById('illustrationImage');
            isZoomed = !isZoomed;

            if (isZoomed) {
                image.classList.add('zoomed');
            } else {
                image.classList.remove('zoomed');
            }
        }

        // ÈÄâÊã©ÈÄâÈ°π
        function selectChoice(element) {
            // Ê∑ªÂä†ÈÄâ‰∏≠ÊïàÊûú
            element.style.background = 'rgba(139, 92, 246, 0.3)';

            setTimeout(() => {
                element.style.background = '';
                continueStory();
            }, 300);
        }

        // ÁªßÁª≠ÊïÖ‰∫ã
        function continueStory() {
            const f1 = document.querySelector('.f1-area');
            f1.style.opacity = '0.5';

            setTimeout(() => {
                f1.innerHTML = `
                    <div class="location-tag">üìç ÂÆûÈ™åÂÆ§Ê∑±Â§Ñ</div>
                    <div class="story-text">
                        <p>‰Ω†ÁöÑÈÄâÊã©Êé®Âä®‰∫ÜÊïÖ‰∫ãÁöÑÂèëÂ±ï...</p>
                        <p>Êñ∞ÁöÑÂú∫ÊôØÂ∑≤Âä†ËΩΩ„ÄÇ</p>
                    </div>
                `;
                f1.style.opacity = '1';
            }, 300);
        }

        // ÈáçÁΩÆÂú∫ÊôØ
        function resetScene() {
            location.reload();
        }

        // ESCÈîÆÂÖ≥Èó≠
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeModal();
            }
        });

        // Ëß¶Êë∏ÊâãÂäøÊîØÊåÅÔºàPWAÔºâ
        let touchStartY = 0;
        const modalBody = document.querySelector('.modal-body');

        modalBody?.addEventListener('touchstart', (e) => {
            touchStartY = e.touches[0].clientY;
        });

        modalBody?.addEventListener('touchend', (e) => {
            const touchEndY = e.changedTouches[0].clientY;
            const diff = touchStartY - touchEndY;

            // ‰∏ãÊªëÂÖ≥Èó≠
            if (diff < -100) {
                closeModal();
            }
        });

        // Èò≤Ê≠¢iOSÊ©°ÁöÆÁ≠ãÊïàÊûú
        document.body.addEventListener('touchmove', (e) => {
            if (document.getElementById('modalOverlay').classList.contains('active')) {
                e.preventDefault();
            }
        }, { passive: false });
    </script>
</body>
</html>