# 🎮 游戏API配置使用说明

## ✅ 已完成的改进

### 1. **完全页面化管理**
- 无需任何控制台操作
- 所有配置通过游戏界面完成
- 参照yoyo项目的预设系统实现

### 2. **模型选择改进**
- 提供下拉列表选择常用模型
- 支持手动输入自定义模型
- 根据不同服务商自动推荐模型

## 📝 使用步骤

### 第一步：打开设置
1. 打开游戏（index.html）
2. 点击**"AI设置"**按钮

### 第二步：配置API
1. **预设名称**：给你的配置起个名字（如"主要API"）
2. **API服务商**：选择你使用的服务
   - Google Gemini（免费额度多）
   - OpenAI（官方）
   - OpenAI兼容（第三方代理）

3. **API地址**：
   - 选择服务商后会自动填充默认地址
   - 使用代理时需要填写代理地址

4. **API密钥**：填写你的API Key

5. **模型名称**：
   - 点击输入框会显示下拉列表
   - 可以选择常用模型
   - 也可以手动输入其他模型名

### 第三步：保存和测试
1. 点击**"💾 保存并应用"**保存配置
2. 点击**"🧪 测试API"**验证是否可用
3. 如果测试成功，配置会自动应用到游戏

## 🔧 多配置管理

### 添加新配置
- 点击预设选择框旁的 **"+"** 按钮
- 输入新配置名称

### 切换配置
- 从下拉列表选择不同的预设
- 配置会自动应用

### 删除配置
- 选择要删除的预设
- 点击 **"-"** 按钮（至少保留一个配置）

## 💡 常见配置示例

### Gemini配置
```
服务商：Google Gemini
API地址：（自动填充）
API密钥：AIzaSy...（你的Gemini密钥）
模型：gemini-pro
```

### OpenAI代理配置
```
服务商：OpenAI兼容（中转）
API地址：https://api.你的代理.com/v1/chat/completions
API密钥：sk-...（代理提供的密钥）
模型：gpt-3.5-turbo
```

## ❓ 常见问题

### Q: 为什么模型下拉列表不显示？
A: 点击输入框即可显示，或者直接从隐藏的下拉选择器选择。

### Q: 配置保存在哪里？
A: 保存在浏览器的localStorage中，换浏览器需要重新配置。

### Q: 可以保存多个API吗？
A: 可以！使用预设系统可以保存多个配置并随时切换。

### Q: 为什么测试成功但对话失败？
A: 检查模型名称是否正确，某些代理可能不支持所有模型。

## 🎯 快速开始

1. 点击"AI设置"
2. 选择"OpenAI兼容"
3. 填写你的代理地址和密钥
4. 选择"gpt-3.5-turbo"模型
5. 点击"保存并应用"
6. 测试成功后即可使用！

## 📌 注意事项

- 配置会自动保存，下次打开游戏自动加载
- 每个用户的配置独立，不会互相影响
- 支持多个API配置，可以随时切换
- 所有操作都在页面内完成，无需控制台

---

现在您可以完全通过游戏界面管理API了！