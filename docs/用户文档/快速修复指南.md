# ğŸš¨ AIè°ƒç”¨é—®é¢˜å¿«é€Ÿä¿®å¤æŒ‡å—

## é—®é¢˜åŸå› 
æ‚¨çš„ `api-config.js` æ–‡ä»¶ä¸­ **API_KEY å’Œ BASE_URL éƒ½æ˜¯ç©ºçš„**ï¼Œæ‰€ä»¥AIæ— æ³•å·¥ä½œã€‚

## ğŸ”¥ ç«‹å³ä¿®å¤ï¼ˆ3ç§æ–¹æ³•ï¼‰

### æ–¹æ³•1ï¼šä½¿ç”¨æµ‹è¯•å·¥å…·ï¼ˆæœ€ç®€å•ï¼‰
1. **æ‰“å¼€æµ‹è¯•é¡µé¢**ï¼šåœ¨æµè§ˆå™¨æ‰“å¼€ `test-ai.html`
2. **å¡«å†™é…ç½®**ï¼š
   - APIå¯†é’¥ï¼šå¡«å…¥æ‚¨çš„å¯†é’¥
   - APIåœ°å€ï¼šå¡«å…¥ä»£ç†åœ°å€
3. **ç‚¹å‡»"ä¿å­˜é…ç½®"**
4. **ç‚¹å‡»"æµ‹è¯•API"** éªŒè¯æ˜¯å¦å·¥ä½œ
5. **ç‚¹å‡»"åº”ç”¨åˆ°æ¸¸æˆ"**

### æ–¹æ³•2ï¼šç›´æ¥ä¿®æ”¹æ–‡ä»¶
æ‰“å¼€ `api-config.js`ï¼Œæ‰¾åˆ°ç¬¬8-12è¡Œï¼Œä¿®æ”¹ä¸ºï¼š

```javascript
OPENAI_PROXY: {
    // æŠŠä¸‹é¢çš„å€¼æ›¿æ¢æˆæ‚¨çš„çœŸå®é…ç½®
    API_KEY: 'sk-ä½ çš„å®é™…å¯†é’¥',  // â† è¿™é‡Œä¸èƒ½ä¸ºç©ºï¼
    BASE_URL: 'https://ä½ çš„ä»£ç†åœ°å€/v1/chat/completions',  // â† è¿™é‡Œä¹Ÿä¸èƒ½ä¸ºç©ºï¼
    MODEL: 'gpt-3.5-turbo'
},
```

### æ–¹æ³•3ï¼šæµè§ˆå™¨æ§åˆ¶å°å¿«é€Ÿé…ç½®
1. æ‰“å¼€æ¸¸æˆé¡µé¢ï¼ˆindex.htmlï¼‰
2. æŒ‰F12æ‰“å¼€æ§åˆ¶å°
3. å¤åˆ¶ç²˜è´´ä»¥ä¸‹ä»£ç ï¼ˆæ›¿æ¢ä¸ºæ‚¨çš„å®é™…å€¼ï¼‰ï¼š

```javascript
// ç›´æ¥åœ¨æ§åˆ¶å°è¿è¡Œè¿™æ®µä»£ç 
AIConfig.api.openai_proxy.apiKey = 'sk-ä½ çš„å¯†é’¥';
AIConfig.api.openai_proxy.baseURL = 'https://ä½ çš„ä»£ç†åœ°å€/v1/chat/completions';
AIConfig.api.openai_proxy.enabled = true;
AIConfig.currentProvider = 'openai_proxy';

// åŒæ­¥é…ç½®
if (typeof syncAIServiceConfig === 'function') {
    syncAIServiceConfig();
}

// ä¿å­˜åˆ°æœ¬åœ°
localStorage.setItem('ai_config', JSON.stringify({
    apiKey: AIConfig.api.openai_proxy.apiKey,
    baseUrl: AIConfig.api.openai_proxy.baseURL,
    model: 'gpt-3.5-turbo'
}));

console.log('âœ… é…ç½®å·²åº”ç”¨ï¼');
```

## ğŸ§ª éªŒè¯é…ç½®æ˜¯å¦æˆåŠŸ

åœ¨æ§åˆ¶å°è¿è¡Œä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹ï¼š

```javascript
// æŸ¥çœ‹å½“å‰é…ç½®
console.log('APIå¯†é’¥:', AIConfig.api.openai_proxy.apiKey ? 'å·²é…ç½®' : 'æœªé…ç½®');
console.log('APIåœ°å€:', AIConfig.api.openai_proxy.baseURL || 'æœªé…ç½®');
console.log('å¯ç”¨çŠ¶æ€:', AIConfig.api.openai_proxy.enabled);
```

## ğŸ“ å¸¸è§APIä»£ç†æœåŠ¡

å¦‚æœæ‚¨è¿˜æ²¡æœ‰APIå¯†é’¥ï¼Œè¿™é‡Œæ˜¯ä¸€äº›å¸¸è§çš„é€‰æ‹©ï¼š

### OpenAIå…¼å®¹ä»£ç†
- **å®˜æ–¹OpenAI**: https://api.openai.com/v1/chat/completions
- **ç¬¬ä¸‰æ–¹ä»£ç†**: è¯·å’¨è¯¢æ‚¨çš„ä»£ç†æœåŠ¡å•†

### ç¤ºä¾‹é…ç½®ï¼ˆè¯·æ›¿æ¢ä¸ºçœŸå®å€¼ï¼‰

```javascript
// ç¤ºä¾‹1ï¼šä½¿ç”¨OpenAIå®˜æ–¹
OPENAI_PROXY: {
    API_KEY: 'sk-proj-xxxxxxxxxxxxx',
    BASE_URL: 'https://api.openai.com/v1/chat/completions',
    MODEL: 'gpt-3.5-turbo'
}

// ç¤ºä¾‹2ï¼šä½¿ç”¨ç¬¬ä¸‰æ–¹ä»£ç†
OPENAI_PROXY: {
    API_KEY: 'sk-abc123def456',
    BASE_URL: 'https://api.yourproxy.com/v1/chat/completions',
    MODEL: 'gpt-3.5-turbo'
}
```

## â“ è¿˜æ˜¯ä¸è¡Œï¼Ÿ

### æ£€æŸ¥æ¸…å•
- [ ] API_KEY æ˜¯å¦å¡«å†™ï¼Ÿï¼ˆä¸èƒ½ä¸ºç©ºï¼‰
- [ ] BASE_URL æ˜¯å¦å¡«å†™ï¼Ÿï¼ˆä¸èƒ½ä¸ºç©ºï¼‰
- [ ] å¯†é’¥æ˜¯å¦æ­£ç¡®ï¼Ÿï¼ˆæ£€æŸ¥æœ‰æ— å¤šä½™ç©ºæ ¼ï¼‰
- [ ] ä»£ç†åœ°å€æ˜¯å¦æ­£ç¡®ï¼Ÿï¼ˆåº”è¯¥ä»¥ /v1/chat/completions ç»“å°¾ï¼‰
- [ ] ç½‘ç»œæ˜¯å¦æ­£å¸¸ï¼Ÿï¼ˆèƒ½å¦è®¿é—®ä»£ç†åœ°å€ï¼‰

### è°ƒè¯•å‘½ä»¤é›†

```javascript
// 1. æ£€æŸ¥é…ç½®æ˜¯å¦åŠ è½½
console.log(AIConfig.api.openai_proxy);

// 2. æ‰‹åŠ¨æµ‹è¯•API
async function testMyAPI() {
    const config = AIConfig.api.openai_proxy;

    if (!config.apiKey || !config.baseURL) {
        console.error('âŒ è¯·å…ˆé…ç½® API_KEY å’Œ BASE_URL');
        return;
    }

    try {
        const response = await fetch(config.baseURL, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Authorization': `Bearer ${config.apiKey}`
            },
            body: JSON.stringify({
                model: config.model,
                messages: [{role: 'user', content: 'ä½ å¥½'}],
                max_tokens: 50
            })
        });

        if (response.ok) {
            const data = await response.json();
            console.log('âœ… APIæµ‹è¯•æˆåŠŸï¼', data);
        } else {
            console.error('âŒ APIé”™è¯¯:', response.status, await response.text());
        }
    } catch (error) {
        console.error('âŒ ç½‘ç»œé”™è¯¯:', error);
    }
}

testMyAPI();
```

## ğŸ¯ æœ€ç®€å•çš„è§£å†³æ–¹æ¡ˆ

**ä½¿ç”¨ test-ai.html æµ‹è¯•å·¥å…·ï¼**

1. æ‰“å¼€ `test-ai.html`
2. å¡«å†™æ‚¨çš„APIä¿¡æ¯
3. ç‚¹å‡»æµ‹è¯•
4. æˆåŠŸååº”ç”¨åˆ°æ¸¸æˆ

è¿™ä¸ªå·¥å…·ä¼šï¼š
- è‡ªåŠ¨ä¿å­˜é…ç½®
- æµ‹è¯•APIæ˜¯å¦å¯ç”¨
- ä¸€é”®åº”ç”¨åˆ°æ¸¸æˆ

---

âš ï¸ **é‡è¦æé†’**ï¼šAPI_KEY å’Œ BASE_URL ä¸¤ä¸ªå€¼éƒ½å¿…é¡»å¡«å†™ï¼Œå¦åˆ™AIåŠŸèƒ½æ— æ³•ä½¿ç”¨ï¼