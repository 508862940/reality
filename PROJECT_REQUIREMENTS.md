# 我的互动小说游戏 - 项目需求文档

## 🎯 项目目标
制作一个乙女向的模拟人生游戏，结合世界探索和AI驱动的NPC互动，支持网页和PWA部署。

## 🎮 核心需求
- **游戏类型**: 乙女向互动小说 + 生活模拟
- **主要功能**: 世界GPS导航 + 模拟人生系统
- **AI集成**: 主角NPC使用AI驱动，普通NPC使用简单触发
- **事件系统**: 简单交互用传统逻辑，随机事件用AI生成

## 🎮 核心功能需求

### 1. 基础游戏机制
- **地图系统**: 多个可探索地点（学校、商店、公园等）
- **角色属性**: 体力、心情、金钱、精力、饥饿、卫生等
- **互动选择**: 每个地点有不同的互动选项
- **状态管理**: 属性之间的相互影响和变化

### 2. 高级游戏系统
- **时间系统**: 游戏内时间流逝，日程安排
- **动态事件**: 随机事件和条件事件触发
- **技能系统**: 智力、力量、魅力、运动等技能
- **物品系统**: 物品收集、使用、商店购买
- **关系系统**: 与NPC的关系等级和心情

### 3. AI集成功能
- **主角NPC AI对话**: 4个主要恋爱对象使用AI驱动
- **AI随机事件生成**: 动态生成随机事件和剧情
- **多AI服务支持**: Gemini API、OpenAI、Claude、OpenAI兼容代理
- **AI设置面板**: 可配置API密钥和服务选择
- **普通NPC**: 使用简单触发，不需要AI

### 4. 技术需求
- **平台支持**: 网页、PWA、手机APP
- **部署方式**: GitHub Pages等免费平台
- **技术栈**: HTML + CSS + JavaScript（纯前端）
- **响应式设计**: 支持手机和电脑访问

## 📁 项目文件结构

```
yozi/
├── index.html              # 主游戏页面
├── styles.css              # 样式文件
├── game.js                 # 基础游戏逻辑
├── ai-config.js            # AI配置和对话系统
├── ai-npc-system.js        # 主角NPC AI系统
├── advanced-game.js        # 高级游戏系统
├── README.md               # 项目说明
├── PROJECT_REQUIREMENTS.md # 项目需求文档（本文件）
├── twine-tutorial.md       # Twine教程参考
└── renpy-tutorial.md       # Ren'Py教程参考
```

## 🎨 游戏特色

### 已实现功能
- ✅ 基础地图探索系统
- ✅ 角色属性管理
- ✅ 地点互动选项
- ✅ AI对话系统
- ✅ AI事件生成
- ✅ 多种AI服务支持
- ✅ 响应式UI设计

### 待实现功能
- ⏳ 时间系统（已创建代码，需集成）
- ⏳ 高级事件系统（已创建代码，需集成）
- ⏳ 技能系统（已创建代码，需集成）
- ⏳ 物品系统（已创建代码，需集成）
- ⏳ 关系系统（已创建代码，需集成）
- ⏳ PWA功能配置
- ⏳ 存档系统
- ⏳ 更多地点和内容

## 🤖 AI功能配置

### 支持的AI服务
1. **Google Gemini** - 免费额度大，中文效果好
2. **OpenAI GPT** - 功能强大，需要API密钥
3. **Anthropic Claude** - 对话质量高
4. **OpenAI兼容代理** - 支持自建代理服务

### 主角NPC设定（AI驱动）
- **林学长** - 学霸学长，温柔体贴，学生会主席
- **张同学** - 运动健将，阳光开朗，篮球队队长
- **夜同学** - 神秘转学生，高冷神秘，有秘密
- **小明** - 邻家男孩，青梅竹马，温暖可靠

### 普通NPC（简单触发）
- **老师、同学、商店老板、路人等** - 使用传统游戏逻辑

## 🎯 开发优先级

### 第一阶段（已完成）
- [x] 基础游戏框架
- [x] AI集成系统
- [x] 基础UI设计

### 第二阶段（进行中）
- [ ] 集成高级游戏系统
- [ ] 完善时间系统
- [ ] 添加更多游戏内容

### 第三阶段（计划中）
- [ ] PWA配置
- [ ] 存档系统
- [ ] 性能优化
- [ ] 更多AI功能

## 📝 开发说明

### 用户背景
- 0基础代码小白
- 主要想做网页和PWA
- 希望实现类似DOL的复杂交互
- 需要AI功能支持

### 技术选择理由
- **HTML + CSS + JavaScript**: 完全可控，功能最强大，支持网页和PWA
- **纯前端**: 部署简单，GitHub Pages直接可用
- **AI集成**: 容易集成各种AI API，提升游戏体验

### 学习价值
- 掌握Web开发基础技术
- 了解AI API集成
- 学习游戏开发逻辑
- 提升编程能力

## 🚀 部署计划

1. **开发阶段**: 本地测试和功能完善
2. **测试阶段**: 功能测试和bug修复
3. **部署阶段**: 上传到GitHub，启用GitHub Pages
4. **优化阶段**: 性能优化和用户体验改进

## 📞 联系方式

如有问题或需要帮助，请参考：
- 项目README.md文件
- 相关教程文档
- 代码注释说明

---

**最后更新**: 2024年12月
**项目状态**: 开发中
**技术栈**: HTML + CSS + JavaScript + AI API
