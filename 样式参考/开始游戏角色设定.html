<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>è§’è‰²åˆ›å»º - Reality</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* ä¸»å®¹å™¨ */
        .creation-container {
            width: 100%;
            max-width: 430px;
            margin: 0 auto;
            padding: 20px;
            padding-bottom: 100px;
        }

        /* æ ‡é¢˜ */
        .page-title {
            color: white;
            font-size: 24px;
            font-weight: bold;
            text-align: center;
            margin-bottom: 20px;
            text-shadow: 0 2px 10px rgba(139, 92, 246, 0.3);
        }

        /* è¿›åº¦æŒ‡ç¤ºå™¨ */
        .progress-bar {
            width: 100%;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #8b92f6, #f093fb);
            border-radius: 3px;
            width: 25%;
            transition: width 0.5s ease;
        }

        /* å¡ç‰‡æ ·å¼ */
        .creation-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(139, 92, 246, 0.2);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .card-title {
            color: #f093fb;
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* è§’è‰²é¢„è§ˆ */
        .character-preview {
            width: 150px;
            height: 200px;
            margin: 0 auto 20px;
            background: rgba(255, 255, 255, 0.03);
            border: 2px solid rgba(139, 92, 246, 0.3);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .preview-avatar {
            font-size: 80px;
            filter: drop-shadow(0 0 10px rgba(139, 92, 246, 0.5));
        }

        /* è¡¨å•å…ƒç´  */
        .form-group {
            margin-bottom: 15px;
        }

        .form-label {
            color: #e4e4e7;
            font-size: 14px;
            margin-bottom: 8px;
            display: block;
        }

        .form-input {
            width: 100%;
            padding: 10px 12px;
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 8px;
            color: white;
            font-size: 14px;
            outline: none;
            transition: all 0.3s;
        }

        .form-input:focus {
            background: rgba(255, 255, 255, 0.12);
            border-color: rgba(240, 147, 251, 0.6);
        }

        .form-select {
            width: 100%;
            padding: 10px 12px;
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 8px;
            color: white;
            font-size: 14px;
            outline: none;
            cursor: pointer;
        }

        /* é€‰é¡¹ç»„ */
        .option-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .option-btn {
            flex: 1;
            min-width: 80px;
            padding: 10px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 8px;
            color: #e4e4e7;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .option-btn:hover {
            background: rgba(139, 92, 246, 0.2);
        }

        .option-btn.active {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.3), rgba(240, 147, 251, 0.3));
            border-color: rgba(240, 147, 251, 0.6);
            color: white;
        }

        /* æ»‘å— */
        .slider-container {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .slider {
            flex: 1;
            height: 6px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
            outline: none;
            -webkit-appearance: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 18px;
            height: 18px;
            background: linear-gradient(135deg, #8b92f6, #f093fb);
            border-radius: 50%;
            cursor: pointer;
        }

        .slider-value {
            color: #f093fb;
            font-size: 14px;
            font-weight: bold;
            min-width: 30px;
            text-align: right;
        }

        /* NPCè®¾ç½® */
        .npc-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .npc-item {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(139, 92, 246, 0.2);
            border-radius: 10px;
            padding: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .npc-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .npc-avatar {
            font-size: 24px;
        }

        .npc-details {
            display: flex;
            flex-direction: column;
        }

        .npc-name {
            color: white;
            font-size: 14px;
            font-weight: bold;
        }

        .npc-role {
            color: #94a3b8;
            font-size: 12px;
        }

        .npc-toggle {
            position: relative;
            width: 45px;
            height: 24px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .npc-toggle.active {
            background: linear-gradient(135deg, #8b92f6, #f093fb);
        }

        .npc-toggle-slider {
            position: absolute;
            top: 2px;
            left: 2px;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            transition: all 0.3s;
        }

        .npc-toggle.active .npc-toggle-slider {
            transform: translateX(21px);
        }

        /* æ·»åŠ è‡ªå®šä¹‰NPCæŒ‰é’® */
        .add-npc-btn {
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.2), rgba(240, 147, 251, 0.2));
            border: 2px dashed rgba(240, 147, 251, 0.4);
            border-radius: 10px;
            color: #f093fb;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .add-npc-btn:hover {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.3), rgba(240, 147, 251, 0.3));
        }

        /* è‡ªå®šä¹‰NPCè¡¨å• */
        .custom-npc-form {
            display: none;
            background: rgba(139, 92, 246, 0.05);
            border-radius: 10px;
            padding: 15px;
            margin-top: 10px;
        }

        .custom-npc-form.active {
            display: block;
            animation: slideDown 0.3s ease-out;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .form-textarea {
            width: 100%;
            padding: 10px 12px;
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 8px;
            color: white;
            font-size: 14px;
            outline: none;
            transition: all 0.3s;
            resize: vertical;
            min-height: 100px;
            font-family: inherit;
        }

        .form-textarea:focus {
            background: rgba(255, 255, 255, 0.12);
            border-color: rgba(240, 147, 251, 0.6);
        }

        /* éš¾åº¦é€‰æ‹© */
        .difficulty-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }

        .difficulty-card {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(139, 92, 246, 0.3);
            border-radius: 12px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .difficulty-card:hover {
            background: rgba(139, 92, 246, 0.1);
        }

        .difficulty-card.active {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.3), rgba(240, 147, 251, 0.3));
            border-color: rgba(240, 147, 251, 0.6);
        }

        .difficulty-icon {
            font-size: 32px;
            margin-bottom: 8px;
        }

        .difficulty-name {
            color: white;
            font-size: 14px;
            font-weight: bold;
            margin-bottom: 4px;
        }

        .difficulty-desc {
            color: #94a3b8;
            font-size: 11px;
        }

        /* åº•éƒ¨æŒ‰é’® */
        .bottom-buttons {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, #1a1a2e, transparent);
            padding: 20px;
            display: flex;
            gap: 10px;
            max-width: 430px;
            margin: 0 auto;
        }

        .btn {
            flex: 1;
            padding: 15px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            outline: none;
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.15);
        }

        .btn-primary {
            background: linear-gradient(135deg, #8b92f6, #f093fb);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(139, 92, 246, 0.4);
        }
    </style>
</head>
<body>
    <div class="creation-container">
        <!-- æ ‡é¢˜ -->
        <h1 class="page-title">åˆ›å»ºè§’è‰²</h1>
        
        <!-- è¿›åº¦æ¡ -->
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>

        <!-- è§’è‰²åŸºç¡€è®¾ç½® -->
        <div class="creation-card">
            <div class="card-title">
                <span>ğŸ‘¤</span>
                <span>è§’è‰²è®¾ç½®</span>
            </div>

            <!-- è§’è‰²é¢„è§ˆ -->
            <div class="character-preview">
                <div class="preview-avatar">ğŸ‘§</div>
            </div>

            <!-- å§“å -->
            <div class="form-group">
                <label class="form-label">è§’è‰²å§“å</label>
                <input type="text" class="form-input" placeholder="è¾“å…¥ä½ çš„è§’è‰²å" value="å°é›¨">
            </div>

            <!-- æ€§åˆ« -->
            <div class="form-group">
                <label class="form-label">æ€§åˆ«</label>
                <div class="option-group">
                    <div class="option-btn active" onclick="selectOption(this, 'gender')">å¥³æ€§</div>
                    <div class="option-btn" onclick="selectOption(this, 'gender')">ç”·æ€§</div>
                    <div class="option-btn" onclick="selectOption(this, 'gender')">å…¶ä»–</div>
                </div>
            </div>

            <!-- å¹´é¾„ -->
            <div class="form-group">
                <label class="form-label">å¹´é¾„</label>
                <div class="slider-container">
                    <input type="range" class="slider" id="ageSlider" min="15" max="25" value="18" oninput="updateSliderValue('age', this.value)">
                    <span class="slider-value" id="ageValue">18</span>
                </div>
            </div>

            <!-- å¤–è²Œç‰¹å¾ -->
            <div class="form-group">
                <label class="form-label">å‘å‹</label>
                <div class="option-group">
                    <div class="option-btn active" onclick="selectOption(this, 'hair')">é•¿å‘</div>
                    <div class="option-btn" onclick="selectOption(this, 'hair')">çŸ­å‘</div>
                    <div class="option-btn" onclick="selectOption(this, 'hair')">åŒé©¬å°¾</div>
                    <div class="option-btn" onclick="selectOption(this, 'hair')">å•é©¬å°¾</div>
                </div>
            </div>

            <div class="form-group">
                <label class="form-label">å‘è‰²</label>
                <div class="option-group">
                    <div class="option-btn active" onclick="selectOption(this, 'hairColor')">é»‘è‰²</div>
                    <div class="option-btn" onclick="selectOption(this, 'hairColor')">æ£•è‰²</div>
                    <div class="option-btn" onclick="selectOption(this, 'hairColor')">é‡‘è‰²</div>
                    <div class="option-btn" onclick="selectOption(this, 'hairColor')">çº¢è‰²</div>
                    <div class="option-btn" onclick="selectOption(this, 'hairColor')">ç´«è‰²</div>
                </div>
            </div>

            <div class="form-group">
                <label class="form-label">ä½“å‹</label>
                <div class="option-group">
                    <div class="option-btn" onclick="selectOption(this, 'body')">çº¤ç»†</div>
                    <div class="option-btn active" onclick="selectOption(this, 'body')">æ ‡å‡†</div>
                    <div class="option-btn" onclick="selectOption(this, 'body')">å¥å£®</div>
                    <div class="option-btn" onclick="selectOption(this, 'body')">ä¸°æ»¡</div>
                </div>
            </div>
        </div>

        <!-- åˆå§‹å±æ€§ -->
        <div class="creation-card">
            <div class="card-title">
                <span>â­</span>
                <span>åˆå§‹å±æ€§</span>
            </div>

            <div class="form-group">
                <label class="form-label">æ™ºåŠ›</label>
                <div class="slider-container">
                    <input type="range" class="slider" min="1" max="10" value="5" oninput="updateSliderValue('int', this.value)">
                    <span class="slider-value" id="intValue">5</span>
                </div>
            </div>

            <div class="form-group">
                <label class="form-label">ä½“åŠ›</label>
                <div class="slider-container">
                    <input type="range" class="slider" min="1" max="10" value="5" oninput="updateSliderValue('str', this.value)">
                    <span class="slider-value" id="strValue">5</span>
                </div>
            </div>

            <div class="form-group">
                <label class="form-label">é­…åŠ›</label>
                <div class="slider-container">
                    <input type="range" class="slider" min="1" max="10" value="5" oninput="updateSliderValue('cha', this.value)">
                    <span class="slider-value" id="chaValue">5</span>
                </div>
            </div>

            <div class="form-group">
                <label class="form-label">å‹‡æ°”</label>
                <div class="slider-container">
                    <input type="range" class="slider" min="1" max="10" value="5" oninput="updateSliderValue('cou', this.value)">
                    <span class="slider-value" id="couValue">5</span>
                </div>
            </div>
        </div>

        <!-- NPCè®¾ç½® -->
        <div class="creation-card">
            <div class="card-title">
                <span>ğŸ’•</span>
                <span>ä¸»è¦NPCè®¾ç½®</span>
            </div>

            <div class="npc-list">
                <!-- é»˜è®¤NPC -->
                <div class="npc-item">
                    <div class="npc-info">
                        <span class="npc-avatar">ğŸ‘¨â€ğŸ“</span>
                        <div class="npc-details">
                            <span class="npc-name">æ—å­¦é•¿</span>
                            <span class="npc-role">å­¦éœ¸å­¦é•¿ Â· æ¸©æŸ”ä½“è´´</span>
                        </div>
                    </div>
                    <div class="npc-toggle active" onclick="toggleNPC(this)">
                        <div class="npc-toggle-slider"></div>
                    </div>
                </div>

                <div class="npc-item">
                    <div class="npc-info">
                        <span class="npc-avatar">ğŸƒâ€â™‚ï¸</span>
                        <div class="npc-details">
                            <span class="npc-name">å¼ åŒå­¦</span>
                            <span class="npc-role">è¿åŠ¨å¥å°† Â· é˜³å…‰å¼€æœ—</span>
                        </div>
                    </div>
                    <div class="npc-toggle active" onclick="toggleNPC(this)">
                        <div class="npc-toggle-slider"></div>
                    </div>
                </div>

                <div class="npc-item">
                    <div class="npc-info">
                        <span class="npc-avatar">ğŸŒ™</span>
                        <div class="npc-details">
                            <span class="npc-name">å¤œåŒå­¦</span>
                            <span class="npc-role">ç¥ç§˜è½¬å­¦ç”Ÿ Â· é«˜å†·ç¥ç§˜</span>
                        </div>
                    </div>
                    <div class="npc-toggle active" onclick="toggleNPC(this)">
                        <div class="npc-toggle-slider"></div>
                    </div>
                </div>

                <div class="npc-item">
                    <div class="npc-info">
                        <span class="npc-avatar">ğŸŒŸ</span>
                        <div class="npc-details">
                            <span class="npc-name">å°æ˜</span>
                            <span class="npc-role">é’æ¢…ç«¹é©¬ Â· æ¸©æš–å¯é </span>
                        </div>
                    </div>
                    <div class="npc-toggle active" onclick="toggleNPC(this)">
                        <div class="npc-toggle-slider"></div>
                    </div>
                </div>
            </div>

            <!-- æ·»åŠ è‡ªå®šä¹‰NPC -->
            <button class="add-npc-btn" onclick="toggleCustomNPC()">
                <span>â•</span>
                <span>æ·»åŠ è‡ªå®šä¹‰NPC</span>
            </button>

            <!-- è‡ªå®šä¹‰NPCè¡¨å• -->
            <div class="custom-npc-form" id="customNPCForm">
                <div class="form-group">
                    <label class="form-label">NPCå§“å</label>
                    <input type="text" class="form-input" placeholder="ä¾‹å¦‚ï¼šæè€å¸ˆ">
                </div>

                <div class="form-group">
                    <label class="form-label">è§’è‰²å®šä½</label>
                    <input type="text" class="form-input" placeholder="ä¾‹å¦‚ï¼šä¸¥å‰çš„ç­ä¸»ä»»">
                </div>

                <div class="form-group">
                    <label class="form-label">æ€§æ ¼ç‰¹å¾</label>
                    <textarea class="form-textarea" placeholder="æè¿°NPCçš„æ€§æ ¼ç‰¹ç‚¹ï¼Œä¾‹å¦‚ï¼šè¡¨é¢ä¸¥å‰ä½†å†…å¿ƒå…³å¿ƒå­¦ç”Ÿï¼Œæœ‰ç€ä¸°å¯Œçš„æ•™å­¦ç»éªŒ..."></textarea>
                </div>

                <div class="form-group">
                    <label class="form-label">æ—¥å¸¸ä½œæ¯</label>
                    <textarea class="form-textarea" placeholder="æè¿°NPCçš„æ—¥å¸¸æ´»åŠ¨ï¼Œä¾‹å¦‚ï¼šæ—©ä¸Š7ç‚¹åˆ°æ ¡ï¼Œç»å¸¸åœ¨åŠå…¬å®¤æ‰¹æ”¹ä½œä¸š..."></textarea>
                </div>

                <div class="form-group">
                    <label class="form-label">å…´è¶£çˆ±å¥½</label>
                    <input type="text" class="form-input" placeholder="ä¾‹å¦‚ï¼šé˜…è¯»ã€å›­è‰ºã€å¤å…¸éŸ³ä¹">
                </div>

                <div class="option-group">
                    <button class="option-btn" onclick="saveCustomNPC()">ä¿å­˜NPC</button>
                    <button class="option-btn" onclick="toggleCustomNPC()">å–æ¶ˆ</button>
                </div>
            </div>
        </div>

        <!-- éš¾åº¦è®¾ç½® -->
        <div class="creation-card">
            <div class="card-title">
                <span>ğŸ¯</span>
                <span>æ¸¸æˆéš¾åº¦</span>
            </div>

            <div class="difficulty-options">
                <div class="difficulty-card active" onclick="selectDifficulty(this, 'easy')">
                    <div class="difficulty-icon">ğŸ˜Š</div>
                    <div class="difficulty-name">ç®€å•</div>
                    <div class="difficulty-desc">é€‚åˆæ–°æ‰‹ä½“éªŒ</div>
                </div>

                <div class="difficulty-card" onclick="selectDifficulty(this, 'normal')">
                    <div class="difficulty-icon">ğŸ˜</div>
                    <div class="difficulty-name">æ™®é€š</div>
                    <div class="difficulty-desc">å¹³è¡¡çš„æ¸¸æˆä½“éªŒ</div>
                </div>

                <div class="difficulty-card" onclick="selectDifficulty(this, 'hard')">
                    <div class="difficulty-icon">ğŸ˜¤</div>
                    <div class="difficulty-name">å›°éš¾</div>
                    <div class="difficulty-desc">éœ€è¦ç­–ç•¥è§„åˆ’</div>
                </div>

                <div class="difficulty-card" onclick="selectDifficulty(this, 'nightmare')">
                    <div class="difficulty-icon">ğŸ˜ˆ</div>
                    <div class="difficulty-name">å™©æ¢¦</div>
                    <div class="difficulty-desc">æé™æŒ‘æˆ˜</div>
                </div>
            </div>
        </div>
    </div>

    <!-- åº•éƒ¨æŒ‰é’® -->
    <div class="bottom-buttons">
        <button class="btn btn-secondary" onclick="goBack()">è¿”å›</button>
        <button class="btn btn-primary" onclick="enterReality()">è¿›å…¥Reality</button>
    </div>

    <script>
        // é€‰æ‹©é€‰é¡¹
        function selectOption(element, group) {
            // ç§»é™¤åŒç»„å…¶ä»–é€‰é¡¹çš„activeç±»
            const parent = element.parentElement;
            parent.querySelectorAll('.option-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            // æ·»åŠ activeç±»åˆ°å½“å‰é€‰é¡¹
            element.classList.add('active');
            updateProgress();
        }

        // æ›´æ–°æ»‘å—å€¼
        function updateSliderValue(id, value) {
            document.getElementById(id + 'Value').textContent = value;
            updateProgress();
        }

        // åˆ‡æ¢NPC
        function toggleNPC(element) {
            element.classList.toggle('active');
            updateProgress();
        }

        // é€‰æ‹©éš¾åº¦
        function selectDifficulty(element, difficulty) {
            // ç§»é™¤å…¶ä»–éš¾åº¦çš„activeç±»
            document.querySelectorAll('.difficulty-card').forEach(card => {
                card.classList.remove('active');
            });
            // æ·»åŠ activeç±»åˆ°å½“å‰éš¾åº¦
            element.classList.add('active');
            updateProgress();
        }

        // æ˜¾ç¤º/éšè—è‡ªå®šä¹‰NPCè¡¨å•
        function toggleCustomNPC() {
            const form = document.getElementById('customNPCForm');
            form.classList.toggle('active');
        }

        // ä¿å­˜è‡ªå®šä¹‰NPC
        function saveCustomNPC() {
            alert('è‡ªå®šä¹‰NPCå·²ä¿å­˜ï¼');
            toggleCustomNPC();
        }

        // æ›´æ–°è¿›åº¦æ¡
        function updateProgress() {
            // è¿™é‡Œå¯ä»¥æ ¹æ®å¡«å†™çš„å†…å®¹è®¡ç®—è¿›åº¦
            const progress = 75; // ç¤ºä¾‹å€¼
            document.getElementById('progressFill').style.width = progress + '%';
        }

        // è¿”å›ä¸»èœå•
        function goBack() {
            window.location.href = 'index.html';
        }

        // è¿›å…¥æ¸¸æˆ
        function enterReality() {
            console.log('è¿›å…¥æ¸¸æˆä¸»ç•Œé¢');
            // ä¿å­˜è§’è‰²æ•°æ®
            const characterData = {
                name: document.querySelector('.form-input').value,
                // ... æ”¶é›†å…¶ä»–æ•°æ®
            };
            localStorage.setItem('characterData', JSON.stringify(characterData));
            // è·³è½¬åˆ°æ¸¸æˆç•Œé¢
            window.location.href = 'game.html';
        }
    </script>
</body>
</html>